<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- ConfiguraciÃ³n bÃ¡sica -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Electronics Store</title>

    <!-- Icono de pestaÃ±a -->
    <link rel="icon" type="image/png" href="./assets/img/icono_pc.ico" />

    <!-- Estilos principales del Home -->
    <link rel="stylesheet" href="./assets/css/index.css" />
    <link rel="stylesheet" href="./assets/css/darkmode.css" />

    <!-- Estilo del botÃ³n Admin (solo visual) -->
    <style>
      .btn-admin {
        margin-right: 12px;
        background: #2563eb;
        color: #fff;
        padding: 8px 14px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-size: 14px;
      }

      .hidden {
        display: none !important;
      }
    </style>
  </head>

  <body>
    <header>
      <!-- Logo -->
      <div class="logo">Electronics Store</div>

      <!-- BotÃ³n que lleva al panel Admin (solo si es admin) -->
      <!-- Lo oculto por defecto. JS lo muestra si isAdmin = true -->
      <button id="btn-admin" class="btn-admin hidden">Panel Admin</button>

      <!-- BotÃ³n para cerrar sesiÃ³n -->
      <button id="logout-button">Logout</button>

      <!-- BotÃ³n hamburguesa para celulares -->
      <button class="nav-toggle" aria-label="Abrir menÃº" aria-expanded="false">
        â˜°
      </button>

      <!-- MenÃº principal -->
      <nav class="nav" aria-label="MenÃº principal">

        <!-- ====== Dropdown CatÃ¡logo ====== -->
        <div class="dropdown">
          <button class="boton-dropdown">CatÃ¡logo</button>

          <!-- Opciones que filtran productos por categorÃ­a -->
          <div class="contenido-desplegable">
            <a href="#" data-categoria="Todos">Todos</a>
            <a href="#" data-categoria="Celulares">Celulares</a>
            <a href="#" data-categoria="Consolas">Consolas</a>
          </div>
        </div>

        <!-- BotÃ³n modo oscuro -->
        <button id="dark-toggle" class="dark-btn">ðŸŒ™</button>

        <!-- Buscador -->
        <input type="text" placeholder="Buscar..." />

        <!-- Carrito -->
        <button id="boton_carrito" class="boton_carrito">
          <span id="contador_carrito">Carrito - Productos: 0</span>
        </button>

      </nav>
    </header>

    <main>
      <!-- TÃ­tulo de la secciÃ³n productos (cambia segÃºn categorÃ­a) -->
      <h2 id="titulo-productos">Nuestros Productos</h2>

      <!-- Botones para ordenar -->
      <div class="botones-ordenar">
        <button id="ordenar-nombre">Ordenar por nombre</button>
        <button id="ordenar-precio">Ordenar por precio</button>
      </div>

      <!-- AcÃ¡ se insertan todas las cards de productos -->
      <div class="lista_productos"></div>
    </main>

    <!-- Panel lateral del carrito -->
    <section class="seccion_carrito" id="panel-carrito">

      <!-- Fondo para cerrar el carrito -->
      <div id="cerrar-carrito" class="cerrar-carrito"></div>

      <h2>Carrito</h2>

      <!-- Productos dentro del carrito -->
      <div class="carrito-items"></div>

      <!-- Total final -->
      <div class="carrito-total">Total: $0</div>

      <!-- Confirmar compra -->
      <button id="finalizar_compra" class="finalizar_compra">
        Confirmar Compra
      </button>

      <!-- Vaciar carrito -->
      <button id="vaciar" class="vaciar">Vaciar Carrito</button>
    </section>

    <footer>Â© 2025 Electronics Store. Todos los derechos reservados.</footer>

    <!-- Script principal del frontend (maneja productos, carrito, filtros, etc.) -->
    <script src="./js/main.js"></script>

    <!-- Mostrar botÃ³n Admin si corresponde -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const btnAdmin = document.getElementById("btn-admin"); // botÃ³n admin
        const isAdmin = localStorage.getItem("isAdmin");        // flag de admin guardado

        // Si es admin â†’ muestro el botÃ³n
        if (isAdmin === "true") {
          btnAdmin.classList.remove("hidden");

          // Si lo toca, lo llevo al dashboard del backend
          btnAdmin.addEventListener("click", () => {
            window.location.href = "http://localhost:3000/admin/dashboard";
          });
        }
      });
    </script>

  </body>
</html>
