<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ConfiguraciÃ³n bÃ¡sica del documento -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Compra Confirmada | Electronics Store</title>

    <!-- Ãcono de la pestaÃ±a -->
    <link rel="icon" type="image/png" href="./assets/img/icono_pc.ico" />

    <!-- Estilos especÃ­ficos de esta pÃ¡gina -->
    <link rel="stylesheet" href="./assets/css/compra_confirmada.css">
    <link rel="stylesheet" href="./assets/css/darkmode.css">

    <style>
        /* BotÃ³n de modo oscuro, solo para esta pÃ¡gina */
        .dark-btn-confirmada {
            position: fixed;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            font-size: 28px;
            cursor: pointer;
            z-index: 999;
        }
    </style>
</head>

<body class="confirmada">

    <!-- BotÃ³n de activar/desactivar modo oscuro -->
    <button id="dark-toggle" class="dark-btn-confirmada">ðŸŒ™</button>

    <!-- Contenedor general de la confirmaciÃ³n -->
    <div class="confirmacion-container animar">

        <!-- Icono de compra exitosa -->
        <div class="icono-exito">âœ”</div>

        <!-- TÃ­tulo principal -->
        <h1 class="empresa">Â¡Gracias por tu compra!</h1>

        <!-- Mensaje personalizado -->
        <div class="mensaje">
            <p class="subtitulo">
                <!-- Nombre del cliente cargado dinÃ¡micamente -->
                Tu pedido fue procesado con Ã©xito, <span id="nombre-usuario"></span>.
            </p>
            <p>Estos son los detalles de tu compra:</p>
        </div>

        <!-- Tabla con el detalle de productos -->
        <div class="detalles-compra">
            <table>
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Precio Unitario</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>

                <!-- AcÃ¡ se insertan las filas desde JS -->
                <tbody id="lista-productos"></tbody>
            </table>

            <!-- Info final: total, fecha y nÃºmero de orden -->
            <div class="total">
                <p><strong>Total:</strong> <span id="total-final"></span></p>
                <p><strong>Fecha:</strong> <span id="fecha-hoy"></span></p>
                <p><strong>NÂ° de Orden:</strong> <span id="nro-orden"></span></p>
            </div>
        </div>

        <!-- Botones finales -->
        <div class="botones-final">
            <!-- Volver al inicio -->
            <button id="volver" class="volver">Volver al inicio</button>

            <!-- Descargar ticket PDF -->
            <button id="descargar-pdf" class="descargar-pdf">Descargar Ticket</button>
        </div>

    </div>

    <!-- LÃ³gica de esta pÃ¡gina (cargar compra, generar PDF, etc.) -->
    <script src="./js/compra_confirmada.js"></script>

    <script>
        // ==========================================
        // MODO OSCURO (solo para esta pantalla)
        // ==========================================

        const toggle = document.getElementById("dark-toggle");

        // Si el usuario ya tenÃ­a modo oscuro activado, se aplica
        if (localStorage.getItem("darkMode") === "true") {
            document.body.classList.add("dark-mode");
        }

        // Al apretar el botÃ³n alterna entre modo claro/oscuro
        toggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");

            // Guardar el estado para mantenerlo al recargar
            localStorage.setItem(
                "darkMode",
                document.body.classList.contains("dark-mode")
            );
        });
    </script>

</body>
</html>
